(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{20:function(t,e,n){"use strict";n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"i",(function(){return b})),n.d(e,"j",(function(){return j})),n.d(e,"h",(function(){return l})),n.d(e,"a",(function(){return d}));var c=n(2),r=Object(c.b)("contacts/fetchContactsRequest"),u=Object(c.b)("contacts/fetchContactsSuccess"),o=Object(c.b)("contacts/fetchContactsError"),i=Object(c.b)("contacts/fetchAddContactRequest"),a=Object(c.b)("contacts/fetchAddContactSuccess"),s=Object(c.b)("contacts/fetchAddContactError"),b=Object(c.b)("contacts/fetchDeleteContactRequest"),j=Object(c.b)("contacts/fetchDeleteContactSuccess"),l=Object(c.b)("contacts/fetchDeleteContactError"),d=Object(c.b)("contacts/changeFilter")},22:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return b}));var c=n(16),r=n.n(c),u=n(3);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(t){return r.a.defaults.headers.Authorization=t},i=function(t){return function(e){e(u.k()),r.a.post("/users/signup",t).then((function(t){var n=t.data;return e(u.l(n))})).then((function(t){var e=t.data;return o(e.token)})).catch((function(t){return e(u.j(t.message))}))}},a=function(t){return function(e){e(u.e()),r.a.post("/users/login",t).then((function(t){var n=t.data;e(u.f(n)),o(n.token)})).catch((function(t){return e(u.d(t.message))}))}},s=function(){return function(t){t(u.h()),r.a.post("/users/logout").then((function(){t(u.i()),o(null)})).catch((function(e){return t(u.g(e.message))}))}},b=function(){return function(t,e){var n=e().user.token;n&&(o(n),t(u.b()),r.a.get("/users/current").then((function(e){var n=e.data;return t(u.c(n))})).catch((function(e){return t(u.a(e.message))})))}}},3:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return u})),n.d(e,"j",(function(){return o})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return l})),n.d(e,"e",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return O}));var c=n(2),r=Object(c.b)("user/registerRequest"),u=Object(c.b)("user/registerSuccess"),o=Object(c.b)("user/registerError"),i=Object(c.b)("user/loginRequest"),a=Object(c.b)("user/loginSuccess"),s=Object(c.b)("user/loginError"),b=Object(c.b)("user/logoutRequest"),j=Object(c.b)("user/logoutSuccess"),l=Object(c.b)("user/logoutError"),d=Object(c.b)("user/getCurrentUserRequest"),f=Object(c.b)("user/getCurrentUserSuccess"),O=Object(c.b)("user/getCurrentUserError")},80:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),u=n(23),o=n.n(u),i=n(14),a=n(9),s=n(6),b=function(t){return t.user.isAuthenticated},j=function(t){return t.user.user.email},l=n(1),d={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},f=function(){var t=Object(a.c)(b);return Object(l.jsxs)("nav",{children:[Object(l.jsx)(i.b,{to:"/",exact:!0,style:d.link,activeStyle:d.activeLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),t&&Object(l.jsx)(i.b,{to:"/contacts",exact:!0,style:d.link,activeStyle:d.activeLink,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})},O=n(22),h={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},g=function(){var t=Object(a.b)(),e=Object(a.c)(j);return Object(l.jsxs)("div",{style:h.container,children:[Object(l.jsxs)("span",{style:h.name,children:[e," "]}),Object(l.jsx)("button",{type:"button",onClick:function(){return t(Object(O.b)())},children:"\u0412\u044b\u0439\u0442\u0438"})]})},p={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}};function x(){return Object(l.jsxs)("div",{children:[Object(l.jsx)(i.b,{to:"/register",exact:!0,style:p.link,activeStyle:p.activeLink,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(l.jsx)(i.b,{to:"/login",exact:!0,style:p.link,activeStyle:p.activeLink,children:"\u041b\u043e\u0433\u0438\u043d"})]})}var y,k,v,m,C,S={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}},A=function(){var t=Object(a.c)(b);return Object(l.jsxs)("header",{style:S.header,children:[Object(l.jsx)(f,{}),t?Object(l.jsx)(g,{}):Object(l.jsx)(x,{})]})},E=n(18),R=n(26),L=function(t){var e=t.children,n=t.redirectTo,c=Object(R.a)(t,["children","redirectTo"]),r=Object(a.c)(b);return Object(l.jsx)(s.b,Object(E.a)(Object(E.a)({},c),{},{children:r?e:Object(l.jsx)(s.a,{to:n})}))},q=function(t){var e=t.children,n=t.restricted,c=void 0!==n&&n,r=t.redirectTo,u=Object(R.a)(t,["children","restricted","redirectTo"]),o=Object(a.c)(b);return Object(l.jsx)(s.b,Object(E.a)(Object(E.a)({},u),{},{children:o&&c?Object(l.jsx)(s.a,{to:r}):e}))},w=Object(c.lazy)((function(){return n.e(7).then(n.bind(null,88))})),T=Object(c.lazy)((function(){return n.e(5).then(n.bind(null,89))})),z=Object(c.lazy)((function(){return n.e(6).then(n.bind(null,90))})),B=Object(c.lazy)((function(){return Promise.all([n.e(3),n.e(4)]).then(n.bind(null,91))})),D=function(){var t=Object(a.b)();return Object(c.useEffect)((function(){t(Object(O.a)())}),[t]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(A,{}),Object(l.jsx)(c.Suspense,{fallback:Object(l.jsx)("h1",{children:"Loading..."}),children:Object(l.jsxs)(s.d,{children:[Object(l.jsx)(s.b,{exact:!0,path:"/",component:w}),Object(l.jsx)(q,{path:"/register",component:z,restricted:!0,redirectTo:"/"}),Object(l.jsx)(q,{path:"/login",restricted:!0,component:T,redirectTo:"/"}),Object(l.jsx)(L,{path:"/contacts",component:B,redirectTo:"/login"})]})})]})},F=n(44),U=n(25),I=n(7),W=n(15),J=n(45),M=n.n(J),P=n(5),G=n(2),H=n(20),K=Object(G.c)([],(y={},Object(P.a)(y,H.g,(function(t,e){return e.payload})),Object(P.a)(y,H.d,(function(t,e){var n=e.payload;return[].concat(Object(U.a)(t),[n])})),Object(P.a)(y,H.j,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),y)),N=Object(G.c)("",Object(P.a)({},H.a,(function(t,e){return e.payload}))),Q=Object(I.c)({items:K,filter:N}),V=n(3),X={name:null,email:null},Y=Object(G.c)(X,(k={},Object(P.a)(k,V.l,(function(t,e){return e.payload.user})),Object(P.a)(k,V.f,(function(t,e){return e.payload.user})),Object(P.a)(k,V.i,(function(){return X})),Object(P.a)(k,V.c,(function(t,e){return e.payload})),k)),Z=Object(G.c)(null,(v={},Object(P.a)(v,V.l,(function(t,e){return e.payload.token})),Object(P.a)(v,V.f,(function(t,e){return e.payload.token})),Object(P.a)(v,V.i,(function(){return null})),v)),$=Object(G.c)(null,(m={},Object(P.a)(m,V.j,(function(t,e){return e.payload})),Object(P.a)(m,V.d,(function(t,e){return e.payload})),Object(P.a)(m,V.g,(function(){return function(t,e){return e.payload}})),Object(P.a)(m,V.a,(function(t,e){return e.payload})),m)),_=Object(G.c)(!1,(C={},Object(P.a)(C,V.l,(function(){return!0})),Object(P.a)(C,V.f,(function(){return!0})),Object(P.a)(C,V.c,(function(){return!0})),Object(P.a)(C,V.j,(function(){return!1})),Object(P.a)(C,V.d,(function(){return!1})),Object(P.a)(C,V.g,(function(){return!1})),Object(P.a)(C,V.i,(function(){return!1})),C)),tt=Object(I.c)({user:Y,token:Z,error:$,isAuthenticated:_}),et=Object(U.a)(Object(G.d)({serializableCheck:{ignoredActions:[W.a,W.f,W.b,W.c,W.d,W.e]}})),nt={key:"token",storage:M.a,whitelist:["token"]},ct=Object(I.c)({contacts:Q,user:Object(W.g)(nt,tt)}),rt=Object(G.a)({reducer:ct,middleware:et}),ut=Object(W.h)(rt);o.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(a.a,{store:rt,children:Object(l.jsx)(F.a,{loading:null,persistor:ut,children:Object(l.jsx)(i.a,{children:Object(l.jsx)(D,{})})})})}),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.072504a4.chunk.js.map